{% extends "layout.html" %}
{% block content %}
<h1>بازی جاسوس PRO</h1>
<form action="{{ url_for('start_game') }}" method="post">
    <div class="form-group">
        <label for="num_players">تعداد بازیکنان:</label>
        <input type="number" id="num_players" name="num_players" value="5" min="3" max="30" required>
    </div>

    <fieldset id="player-names-fieldset">
        <legend>اسامی بازیکنان</legend>
        <div id="player-names-container">
            <!-- Fields will be generated by JavaScript -->
        </div>
    </fieldset>

    <div class="form-group">
        <label for="num_spies">تعداد جاسوس‌ها:</label>
        <input type="number" id="num_spies" name="num_spies" value="1" min="1" max="10" required>
    </div>
    
    <fieldset>
        <legend>دسته‌بندی‌ها</legend>
        <div class="checkbox-grid">
            {% for cat in categories %}
            <div class="input-group">
                <input type="checkbox" id="{{ cat }}" name="categories" value="{{ cat }}" checked>
                <label for="{{ cat }}">{{ cat }}</label>
            </div>
            {% endfor %}
        </div>
    </fieldset>
    
    <fieldset>
        <legend>حالت بازی</legend>
        <div class="radio-grid">
            <div class="input-group">
                <input type="radio" id="mode_free" name="game_mode" value="free" checked>
                <label for="mode_free">بازی آزاد</label>
            </div>
            <div class="input-group">
                <input type="radio" id="mode_timed" name="game_mode" value="timed">
                <label for="mode_timed">زمان‌دار</label>
            </div>
        </div>
    </fieldset>

    <div id="time-options-wrapper" style="display:none;">
        <fieldset>
            <legend>انتخاب زمان</legend>
            <div class="radio-grid">
                {% for mins in [5, 10, 15, 20, 25, 30] %}
                <div class="input-group">
                    <input type="radio" id="time{{ mins }}" name="time_limit" value="{{ mins * 60 }}" {% if mins == 10 %}checked{% endif %}>
                    <label for="time{{ mins }}">{{ mins }} دقیقه</label>
                </div>
                {% endfor %}
            </div>
        </fieldset>
    </div>
    
    <button type="submit" class="btn">ایجاد بازی</button>
</form>
{% endblock %}